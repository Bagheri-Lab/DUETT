event_locations[upramp_e1_indices, n_col] = 3
shiny::runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
A= get_plotting_parameters()
A
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
get_plotting_parameters()$columns_to_show
get_plotting_parameters()
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
options(error = recover)
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
options(error = NULL)
try(aoerihg)
try(log('a'))
try(log('a'), silent = T)
A = try(log('a'), silent = T)
class(A)
B = try(log(10), silent = T)
class(B)
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
n_row
num_events
event_runs
event_types
event_runs
event_runs
event_locations
colSums(event_locations)
colSums(abs(event_locations))
colSums(abs(event_locations), na.rm = T)
colSums(abs(event_locations), na.rm = T)
event_locations[,1]
event_runs
event_types
rle(event_locations[,1])
Z=rle(event_locations[,1])
temp=rle(event_locations[,1])
relevant_indices = which(temp$values %in% event_types)
relevant_indices
temp$values
temp=rle(event_locations[,1])
event_locations[,1]
temp$values
event_types
temp$values %in% event_types
as.numeric(temp$values) %in% event_types
as.numeric(temp$values) %in% as.numeric(event_types)
class(event_types)
class(temp$values)
mode(event_types)
mode(temp$values)
event_types[[3]]
event_types[[4]]
event_types
event_runs
event_runs
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
A = try(log('a'))
class(A)
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
A
dim(event_points)
event_points
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
event_storage
event_storage[,1]
summary(event_storage)
summary(event_storage[[1]])
event_storage[[1]][,1]
D_values[,1]
linear_values
summary(linear_values)
linear_values$betas[,1]
event_storage[[1]][,1]
which(event_storage[[1]][,1]==0)
linear_values$betas[136,1]
names(linear_values)
linear_values$p_values[136,1]
linear_values$dwp[136,1]
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
event_locations[,1]
event_locations[,1]
A = clean_events(event_locations, noise_length = noise_length, event_gap = event_gap)
A[,1]
event_locations[,1]
event_locations[136,1]
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
event1.5 = 'ha'
event1.5
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
event_locations[,1]
event_runs
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
event_locations[,1]
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
A[,1]
event_locations[,1]
B = find_runs(A)
B
C = event_locations
#### drop short events ####
if (num_events > 0) {
distances = sapply(1:num_events, function(i) abs(event_runs[i, "start"] - event_runs[i, "end"]))
remove_event_run_row = which(distances <= (noise_length - 1))
# find events to remove
for (n_remove in remove_event_run_row) {
col_remove = event_runs[n_remove, "col"]
start_remove = event_runs[n_remove, "start"]
end_remove = event_runs[n_remove, "end"]
event_locations[start_remove:end_remove, col_remove] = 0
}
# separate out event 3 (if still intact)
event_locations[event_3 & event_locations == 1] = 3
event_locations[event_n3 & event_locations == -1] = -3
# separate out event 1.5 (if still intact)
event_locations[event_1.5 & event_locations == 1] = 1.5
event_locations[event_n1.5 & event_locations == -1] = -1.5
# if not intact, turn into event2
event_locations[(event_3 | event_1.5) & event_locations == 0] = 2
event_locations[(event_n3 | event_n1.5) & event_locations == 0] = -2
}
event_locations
event_locations[,1]
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
event_locations[,1]
event_locations[,1]
event_locations[,1]
event_locations[,1]==-2
event_locations[,1]
A[,1]
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
class(try(log('a')))
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
A
n_ramp
n_ramp[,"col"]
dim(n_ramp)
class(n_ramp)
ramp_list
ramp_list[[2]]
event_indices[1,]
event_indices[1,, drop = F]
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
library(keras)
A=dataset_mnist(())
A=dataset_mnist()
install_keras()
A=dataset_mnist()
q()
library(keras)
A=dataset_mnist()
dimA
dim(A)
class(A)
length(A)
summary(A)
dim(A[[1]])
dim(A[[1]][[1]])
dim(A[[1]][[2]])
shiny::runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
shiny::runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
shiny::runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
shiny::runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
offset
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
get_I_length()
A=get_I_length()
A
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
get_I_length()
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
x = 1:100
y = 1:100 + rnorm(100)
dwtest(x~y)
A=dwtest(x~y)
A$statistic
x2=1:1000
y2=1:1000+rnorm(1000)
B=dwtest(x2~y2)
B
A
B
x_short = 1:10
y_short = 1:10+rnorm(10)
dwtest(x_short~y_short)
x_ac = c(rep(1,10), seq(1,100,length.out=80), rep(100,10))
y_ac = c(rep(1,10), seq(1,100,length.out=80), rep(100,10))
x_ac = 1:100
dwtest(x_ax~y_ac)
dwtest(x_ac~y_ac)
result = dwtest(x_ac~y_ac)
result$statistic
y_ac = c(rep(1,5), seq(1,100,length.out=90), rep(100,5))
dwtest(x_ac~y_ac)$statistic
y_ac = c(rep(1,5), seq(1,100,length.out=90), rep(100,5)) + rnorm(100)
dwtest(x_ac~y_ac)$statistic
y_ac = c(rep(1,10), seq(1,100,length.out=80), rep(100,10)) + rnorm(100)
dwtest(x_ac~y_ac)$statistic
plot(1:100, c(rep(1,10), seq(1,100,length.out=80), rep(100,10)) + rnorm(100))
plot(1:100, c(rep(1,5), seq(1,100,length.out=90), rep(100,5)) + rnorm(100))
x_ac
x = 1:100
y_ac = c(rep(100,10), seq(100,1,length.out=80), rep(1,10)) + rnorm(100)
dw_test(y_ac~x)
library(lmtest)
dw_test(y_ac~x)
dwtest(y_ac~x)
y_ac
y_ac2 = c(rep(1,50), seq(1,100,length.out=50))
x2 = c(seq(1, 100, length.out = 50), rep(100,50))
dwtest(y_ac2~x2)
dwtest(y_ac2~-x2)
y_ac2
101 - y_ac2
y_ac2 = 101 - y_ac2
dwtest(y_ac2~x2)
source('~/Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector/analysis/dwtest/testing.R', echo=TRUE)
source('~/Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector/analysis/dwtest/testing.R', echo=TRUE)
source('~/Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector/analysis/dwtest/testing.R', echo=TRUE)
source('~/Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector/analysis/dwtest/testing.R', echo=TRUE)
source('~/Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector/analysis/dwtest/testing.R', echo=TRUE)
source('~/Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector/analysis/dwtest/testing.R', echo=TRUE)
source('~/Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector/analysis/dwtest/testing.R', echo=TRUE)
source('~/Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector/analysis/dwtest/testing.R', echo=TRUE)
y = c(rep(100,10), seq(100,1,length.out=80), rep(1,10)) + rnorm(100)
result = dwtest(y ~ x)
plot(x, y, main = paste("DW=", round(result$statistic, digits = 2), " p-value=", round(result$p.value, digits = 2), sep = ""))
result$p.value
source('~/Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector/analysis/dwtest/testing.R', echo=TRUE)
source('~/Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector/analysis/dwtest/testing.R', echo=TRUE)
result$p.value
source('~/Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector/analysis/dwtest/testing.R', echo=TRUE)
source('~/Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector/analysis/dwtest/testing.R', echo=TRUE)
result$p.value
source('~/Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector/analysis/dwtest/testing.R', echo=TRUE)
source('~/Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector/analysis/dwtest/testing.R', echo=TRUE)
source('~/Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector/analysis/dwtest/testing.R', echo=TRUE)
source('~/Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector/analysis/dwtest/testing.R', echo=TRUE)
source('~/Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector/analysis/dwtest/testing.R', echo=TRUE)
source('~/Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector/analysis/dwtest/testing.R', echo=TRUE)
shiny::runApp('~/Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
data_file = "../../example_data/other_data/SRP_wt_rho_table.txt"
data_mat = load_data(data_file)
data_mat[,14]
source("../../support_functions/load_data.R")
data_file = "../../example_data/other_data/SRP_wt_rho_table.txt"
data_mat = load_data(data_file)
source('~/Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector/analysis/dwtest/testing.R', echo=TRUE)
make_plot <- function(rows = 1:40, col_i = 14) {
x = 1:40
y = data_mat[rows, col_i]
result = dwtest(y ~ x)
plot(x, y, main = paste("DW=", round(result$statistic, digits = 2), " p-value=", round(result$p.value, digits = 4), sep = ""))
}
par(mfrow = c(2,2))
make_plot()
make_plot(21:60, 41)
make_plot(21:60, 42)
par(mar = c(2,2,2,2))
make_plot()
source('~/Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector/analysis/dwtest/testing.R', echo=TRUE)
source('~/Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector/analysis/dwtest/testing.R', echo=TRUE)
source('~/Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector/analysis/dwtest/testing.R', echo=TRUE)
source('~/Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector/analysis/dwtest/testing.R', echo=TRUE)
source('~/Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector/analysis/dwtest/testing.R', echo=TRUE)
source('~/Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector/analysis/dwtest/testing.R', echo=TRUE)
make_plot(66:105, 44)
source('~/Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector/analysis/dwtest/testing.R', echo=TRUE)
source('~/Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector/analysis/dwtest/testing.R', echo=TRUE)
source('~/Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector/analysis/dwtest/testing.R', echo=TRUE)
x = 1:100
y = 1:100 + rep(c(-0.5, 0.5), 50)
result = dwtest(y ~ x)
plot(x, y, main = paste("DW=", round(result$statistic, digits = 2), " p-value=", round(result$p.value, digits = 4), sep = ""), ylim = ylim)
plot(x, y, main = paste("DW=", round(result$statistic, digits = 2), " p-value=", round(result$p.value, digits = 4), sep = ""))
par(mfrow = c(1))
x = 1:100
y = 1:100 + rep(c(-0.5, 0.5), 50)
result = dwtest(y ~ x)
plot(x, y, main = paste("DW=", round(result$statistic, digits = 2), " p-value=", round(result$p.value, digits = 4), sep = ""))
par(mfrow = c(1, 1))
x = 1:100
y = 1:100 + rep(c(-0.5, 0.5), 50)
result = dwtest(y ~ x)
plot(x, y, main = paste("DW=", round(result$statistic, digits = 2), " p-value=", round(result$p.value, digits = 4), sep = ""))
par(mfrow = c(1, 1))
x = 1:100
y = 1:100 + rep(c(-1, 1), 50)
result = dwtest(y ~ x)
plot(x, y, main = paste("DW=", round(result$statistic, digits = 2), " p-value=", round(result$p.value, digits = 4), sep = ""))
par(mfrow = c(1, 1))
x = 1:40
y = 1:40 + rep(c(-1, 1), 50)
result = dwtest(y ~ x)
plot(x, y, main = paste("DW=", round(result$statistic, digits = 2), " p-value=", round(result$p.value, digits = 4), sep = ""))
par(mfrow = c(1, 1))
x = 1:40
y = 1:40 + rep(c(-1, 1), 20)
result = dwtest(y ~ x)
plot(x, y, main = paste("DW=", round(result$statistic, digits = 2), " p-value=", round(result$p.value, digits = 4), sep = ""))
y = 1:40 + rnorm(40)#rep(c(-1, 1), 20)
result = dwtest(y ~ x)
plot(x, y, main = paste("DW=", round(result$statistic, digits = 2), " p-value=", round(result$p.value, digits = 4), sep = ""))
y = 1:40 + rnorm(40)#rep(c(-1, 1), 20)
result = dwtest(y ~ x)
plot(x, y, main = paste("DW=", round(result$statistic, digits = 2), " p-value=", round(result$p.value, digits = 4), sep = ""))
y = (1:40)[seq(1,40,2)]
y
y = 1:40 + rnorm(40, sd = 2)#rep(c(-1, 1), 20)
result = dwtest(y ~ x)
plot(x, y, main = paste("DW=", round(result$statistic, digits = 2), " p-value=", round(result$p.value, digits = 4), sep = ""))
y = 1:40 + rnorm(40, sd = 2)#rep(c(-1, 1), 20)
result = dwtest(y ~ x)
plot(x, y, main = paste("DW=", round(result$statistic, digits = 2), " p-value=", round(result$p.value, digits = 4), sep = ""))
y = 1:40 + rnorm(40, sd = 2)#rep(c(-1, 1), 20)
result = dwtest(y ~ x)
plot(x, y, main = paste("DW=", round(result$statistic, digits = 2), " p-value=", round(result$p.value, digits = 4), sep = ""))
y = 1:40 + rnorm(40, sd = 2)#rep(c(-1, 1), 20)
result = dwtest(y ~ x)
plot(x, y, main = paste("DW=", round(result$statistic, digits = 2), " p-value=", round(result$p.value, digits = 4), sep = ""))
y = (1:40)[seq(1,40,2)]
y
rbind(y, rep(40, 20))
as.vector(rbind(y, rep(40, 20)))
x = 1:40
y = (1:40)[seq(1,40,2)]
y = as.vector(rbind(y, rep(40, 20)))
result = dwtest(y ~ x)
plot(x, y, main = paste("DW=", round(result$statistic, digits = 2), " p-value=", round(result$p.value, digits = 4), sep = ""))
result$p.value
runApp('~/Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('~/Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('~/Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('~/Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('~/Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('~/Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('~/Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('~/Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('~/Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('~/Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('~/Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
runApp('~/Dropbox/Albert Xue/Research/Deployment/ShapeSeq_event_detector')
